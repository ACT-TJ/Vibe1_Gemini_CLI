# 0005: 서버 로직 리팩토링 (Service/API 계층 분리)

* **상태:** 채택됨
* **날짜:** 2025-09-23

## 컨텍스트

프로젝트 초기에는 모든 서버 로직(API 라우팅, 데이터 파일 입출력)이 `src/index.js` 파일 하나에 집중되어 있었습니다. 기능이 확장됨에 따라 이 파일이 너무 비대해지고 유지보수가 어려워질 위험이 있었습니다.

## 결정

1.  관심사 분리(Separation of Concerns) 원칙에 따라 서버 코드를 기능별로 모듈화하기로 결정했습니다.
2.  **`src/services/database.js`:** `database.json` 파일을 직접 읽고 쓰는 모든 로직을 이 서비스 모듈로 분리했습니다.
3.  **`src/api/index.js`:** Express 라우터를 사용하여 모든 API 엔드포인트(`/api/data`)의 정의와 요청/응답 처리를 이 API 모듈로 분리했습니다. 이 모듈은 `database.js` 서비스를 호출하여 데이터를 처리합니다.
4.  **`src/index.js`:** 최상위 Express 앱 생성, 미들웨어 설정, API 라우터 연결, 서버 시작 등 핵심적인 역할만 남겨두어 코드를 대폭 간소화했습니다.

## 결과

*   각 파일이 명확한 단일 책임을 갖게 되어 코드의 가독성과 유지보수성이 크게 향상되었습니다.
*   향후 새로운 API 엔드포인트나 다른 종류의 서비스(예: 로깅 서비스)를 추가하기 용이한 확장성 있는 구조가 되었습니다.
*   전문적인 웹 애플리케이션의 표준적인 폴더 구조를 따르게 되었습니다.
